(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1252:function(e,t,a){},1253:function(e,t,a){},1381:function(e,t,a){},1382:function(e,t,a){},1383:function(e,t,a){},1384:function(e,t,a){},1389:function(e,t,a){},1390:function(e,t,a){},1392:function(e,t,a){},1393:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(46),i=a.n(o),s=(a(187),a(16)),c=a.n(s),l=a(22),u=a(17),m=a(19),h=a(27),d=a(25),p=a(28),f=a(38),v=a.n(f),g=a(153),E=a.n(g);function y(e){return new Promise(function(t){return setTimeout(t,e)})}var b=function(){function e(){Object(u.a)(this,e),this.apiBase="https://source.unsplash.com"}return Object(m.a)(e,[{key:"findPhoto",value:function(){var t=Object(l.a)(c.a.mark(function t(){var a,n,r,o,i,s,l=arguments;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for("1080x720",a=l.length,n=new Array(a),r=0;r<a;r++)n[r]=l[r];return o="".concat(this.apiBase,"/random/").concat("1080x720","/?").concat(n.join("+")),t.next=5,E.a.get(o);case 5:return i=t.sent,s=i.request.responseURL,console.log("Found a good photo",{photoUrl:s}),console.warn(e.timeoutWarning),t.next=11,y(3e3);case 11:return t.abrupt("return",s);case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),e}();b.timeoutWarning="We are enforcing a 3s timeout after calls to findPhoto.";var w=new b;function k(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t[Math.floor(Math.random()*t.length)]}var j=function e(t,a,n,r,o){Object(u.a)(this,e),this.creatorId=t,this.name=a,this.description=n,this.icon=r,this.keywords=o,this.id=void 0,this.createdAt=void 0,this.id=e.count++,this.createdAt=new Date,console.log("EVT",this.id,this.name,this.description)};j.count=0;var O=function(){function e(t,a,n){var r=this;Object(u.a)(this,e),this.name=t,this.gender=a,this.about=n,this.photoUrl=void 0,this.quote=void 0,this.job=void 0,this.friends=[],this.id=void 0,this.activities=[],this.favoriteColor=void 0,this.genEvent=function(){var e="something happened",t="it was okay",a=[],n=k("food","favorite","music","map");return"food"===n?(e="i ate "+k("breakfast","lunch","dinner","a snack"),t=k("it was really good actually","i could've had something else","i didn't mind it?","could've been more tasty","was actually delicious"),a.push("food")):"music"===n?(e=k("played some tunes","jammed out","listened to music","drove around and rocked out"),t=k("i should learn to play","alright it sounded pretty good","you know how we do this"),a.push("music")):"favorite"===n?(console.log("---\x3e event",{icon:n}),e=k("Got an award","Made the team","Achieved the goal"),t=k("i'm just glad to be here","life is good, you know?","it's alright!","it feels fantastic","i can't actually describe it all too well, but you know"),a.push("team")):"map"===n&&(e="Arrived at "+k("School","Work","Home","Church","the Mall"),t=k("Unremarkable"),a.push("travel")),new j(r.id,e,t,n,a)},this.id=e.count++;var o=["red","orange","green","yellow","olive","teal","violet","pink","blue"];this.favoriteColor=o[Math.floor(Math.random()*o.length)],this.activities=[],this.quote=v.a.hacker.phrase(),this.job=v.a.name.jobTitle()}return Object(m.a)(e,[{key:"findGoodPicture",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=["face","person"],Math.random()<.2?"male"===this.gender?t.push("man"):t.push("woman"):t.push(this.gender),e.next=4,w.findPhoto.apply(w,t);case 4:this.photoUrl=e.sent;case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"addFriend",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.friends.push(e.id),t&&e.addFriend(this,!1)}}]),e}();function U(e,t){return N.apply(this,arguments)}function N(){return(N=Object(l.a)(c.a.mark(function e(t,a){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<t.length)){e.next=7;break}return e.next=4,a(t[n],n,t);case 4:n++,e.next=1;break;case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}O.count=0;var P=function(){function e(){Object(u.a)(this,e),this.humans={}}return Object(m.a)(e,[{key:"find",value:function(e){return this.humans[e]}},{key:"put",value:function(e,t){this.humans[e]=t}},{key:"freeze",value:function(){console.log("FREEZE"),localStorage.setItem("humans",JSON.stringify(this.humans))}},{key:"thaw",value:function(){console.log("THAW");var e=localStorage.getItem("humans");return!!e&&(this.humans=JSON.parse(e,function(e,t){return"createdAt"===e?new Date(t):t}),console.log("THAWED ---\x3e ",{humans:this.humans}),!0)}}]),e}(),C=new(function(){function e(){var t=this;Object(u.a)(this,e),this.db=new P,this.all=function(){return Object.values(t.db.humans)},this.lookup=function(e){return t.db.find(e)},console.log("Created new humans service!")}return Object(m.a)(e,[{key:"seed",value:function(){var e=Object(l.a)(c.a.mark(function e(t){var a,n,r,o,i,s,u,m,h,d,p,f,v,g,E=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db.thaw()){e.next=3;break}return console.warn("THAWED, skipping seed"),e.abrupt("return");case 3:return console.log("SEEDING"),a={dale:new O("Dale Lingis","male","making it work"),tom:new O("Tom Jones","male","something is gonna happen"),albert:new O("Albert Transfer","male","it's all going to work out"),abel:new O("Abel Don","male","everything is cool"),kara:new O("Kara Teristic","female","the world is okay"),essence:new O("Essence Beauty","female","i like talking to people"),velocity:new O("Velocity Ideas","female","shopping is fun"),time:new O("Time Shine","female","having a good time"),life:new O("Life Cosmos","female","i enjoy chilling out with my friends"),sweet:new O("Sweet Good Omens","female","it's all a game really"),x:new O("Mr. X","male","i'll keep my personal details to myself, thanks")},n=a.tom,r=a.albert,o=a.dale,i=a.abel,s=a.kara,u=a.essence,m=a.velocity,h=a.time,d=a.life,p=a.sweet,f=a.x,n.addFriend(r),n.addFriend(o),n.addFriend(p),p.addFriend(f),o.addFriend(i),i.addFriend(s),s.addFriend(r),s.addFriend(u),s.addFriend(m),s.addFriend(h),h.addFriend(d),h.addFriend(m),h.addFriend(u),h.addFriend(i),v=0,e.next=23,U(Object.values(a),function(){var e=Object(l.a)(c.a.mark(function e(n){var r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return E.db.put(n.id,n),e.next=3,n.findGoodPicture();case 3:v++,r=Math.floor(v/Object.entries(a).length*100),console.log("PROGRESS",r),t(r);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 23:for(g=0;g<10;g++)Object.values(a).forEach(function(e){e.activities.push(e.genEvent())});this.db.freeze();case 25:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}()),H=a(170),A=a(1407),x=a(1406),S=a(49),V=(a(1252),a(1404)),F=(a(1253),function(e){var t=e.photoUrl;return r.a.createElement("div",{className:"User-Bubble",style:{background:"center / 150% url(".concat(t,")")}})}),z=a(1403),I=function(e){return r.a.createElement(z.a,{button:!0,size:"small",className:"icon",floating:!0,labeled:!0,icon:"user circle",text:e.userName,onChange:function(){var t=Object(l.a)(c.a.mark(function t(a,n){var r,o;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.value,o=r,t.next=4,e.onChangeUser(C.lookup(o));case 4:e.onVisitHome();case 5:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}(),search:!0,header:"Let the Masquerade begin!",style:{width:"258px",color:"#000"},options:C.all().map(function(e){return{key:e.id,text:e.name,value:e.id,image:{avatar:!0,src:e.photoUrl}}})})},T=function(e){var t=e.userName,a=e.userPhotoUrl,n=e.onVisitHome,o=e.onVisitProfile,i=e.onChangeUser;return r.a.createElement(V.a,{className:"App-header"},r.a.createElement(V.a.Item,{header:!0},"Society"),r.a.createElement(V.a.Item,{name:"Home",link:!0,onClick:function(e){return n()}}),r.a.createElement(V.a.Item,{name:"Profile",link:!0,onClick:function(e){return o()}}),r.a.createElement(V.a.Item,null,r.a.createElement(I,{userName:t,onVisitHome:n,onChangeUser:i})),r.a.createElement(V.a.Item,{position:"right"},r.a.createElement("div",{className:"App-user",onClick:function(e){return n()},style:{cursor:"pointer"}},r.a.createElement(F,{photoUrl:a}),t)))},W=a(1408),M=(a(1381),function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.photoUrl;return r.a.createElement(A.a,{className:"Hero-header",style:{background:"center / 100% url(".concat(e,")"),backgroundSize:"cover"}},this.props.children)}}]),t}(r.a.Component)),D=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.aside,t=this.props.heroContent||this.props.doTemplateContent&&r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,{style:{backgroundColor:"rgba(255,255,255,0.8)"}},r.a.createElement(x.a,{icon:!0},r.a.createElement(S.a,{name:"user",color:"grey"}),"Odysseus",r.a.createElement(x.a.Subheader,null,"this could be you!")))),a=this.props.userName||"Odysseus";return r.a.createElement("div",{className:"Page"},r.a.createElement(T,{userName:a,userPhotoUrl:this.props.userPhotoUrl,onChangeUser:this.props.onChangeUser,onVisitHome:this.props.onVisitHome,onVisitProfile:this.props.onVisitProfile}),r.a.createElement("main",{className:"App-main"},r.a.createElement(W.a,{minWidth:992},r.a.createElement("div",{className:"Page-aside"},e)),r.a.createElement("div",{className:"Page-main"},r.a.createElement(H.a,{className:"Page-mainGroup"},r.a.createElement(M,{photoUrl:this.props.heroPhotoUrl},t),this.props.children||r.a.createElement(A.a,null,"Nothing here!")))))}}]),t}(r.a.Component),G=a(1400),L=a(1394),B=a(1401),R=a(1399),q=(a(1382),function(e){var t=e.activity,a=e.humanId,n=C.lookup(a);return r.a.createElement(H.a,{key:t.id,className:"Activity"},r.a.createElement(A.a,{color:n.favoriteColor,className:"Activity-header"},r.a.createElement(R.a,{className:"Activity-author"},n.photoUrl&&r.a.createElement(F,{photoUrl:n.photoUrl}),r.a.createElement("b",null,n.name)," did something",t.createdAt&&r.a.createElement("span",{style:{color:"#d4d4d4",marginLeft:"5px"}},"at ",t.createdAt.toLocaleTimeString&&t.createdAt.toLocaleTimeString("en-US"))),r.a.createElement("div",{className:"Activity-actions"},r.a.createElement("span",{className:"Activity-action"},r.a.createElement("span",null,"0"),r.a.createElement(S.a,{name:"heart",color:"red"})),r.a.createElement("span",{className:"Activity-action"},r.a.createElement("span",null,"1"),r.a.createElement(S.a,{name:"favorite",color:"yellow"})))),r.a.createElement(M,{photoUrl:"https://source.unsplash.com/random/1080x720/?".concat(t.keywords.join("+"))},r.a.createElement(A.a,{style:{backgroundColor:"rgba(255,255,255,0.9)",width:"100%"}},r.a.createElement("div",{className:"Activity-body"},r.a.createElement(x.a,{icon:!0},r.a.createElement(S.a,{name:t.icon}),t.name),r.a.createElement(R.a,null,t.description)))),r.a.createElement(A.a,{style:{backgroundColor:"#f4f4f4"}},r.a.createElement(R.a,{fluid:!0,style:{width:"30%"}},t.keywords.map(function(e){return"#".concat(e)}))))}),J=(a(1383),function(e){var t=e.human,a=e.lookupHuman,n=e.changeHuman;return r.a.createElement(R.a,{className:"User-Tile",color:t.favoriteColor},t.photoUrl&&r.a.createElement(F,{photoUrl:t.photoUrl}),r.a.createElement(x.a,{size:"large"},t.name,r.a.createElement(x.a.Subheader,null,t.about)),r.a.createElement(x.a,null,"Quote"),r.a.createElement("i",null,'"',t.quote,'"'),r.a.createElement(A.a,{className:"Friends"},r.a.createElement(x.a,{size:"tiny",icon:!0},r.a.createElement(S.a,{name:"group"}),"Friends of ",t.name),r.a.createElement(H.a,null,t.friends.map(function(e){var t=a(e);return r.a.createElement(A.a,{className:"Friends--list-item",compact:!0,color:t.favoriteColor,key:t.id,onClick:function(){return n(t)}},r.a.createElement(F,{photoUrl:t.photoUrl}),t.name)}))))}),K=(a(1384),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={input:""},a.handleInputChange=function(e){a.setState({input:e.target.value})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.me,n=t.human,o=t.lookupHuman,i=t.changeHuman,s=t.createActivity,c=n.activities.slice().sort(function(e,t){return e.createdAt>t.createdAt?-1:1});return r.a.createElement("div",{className:"Profile-body"},r.a.createElement(W.a,{as:A.a,minWidth:968,color:n.favoriteColor,className:"aside-wrapper"},r.a.createElement("div",{className:"aside"},r.a.createElement(J,{human:n,lookupHuman:o,changeHuman:i}))),r.a.createElement(A.a,{className:"main"},a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{size:"huge"},"What are you up to?"),r.a.createElement(G.a,{size:"massive",placeholder:"What's going on?",value:this.state.input,onChange:this.handleInputChange}),r.a.createElement(L.a,{primary:!0,type:"submit",size:"massive",onClick:function(){return s(n,e.state.input)}},r.a.createElement(S.a,{name:"share"}),"Share"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(B.a,null)),r.a.createElement("div",{className:"Feed"},r.a.createElement(W.a,{as:A.a,maxWidth:968,color:n.favoriteColor,className:"inline-header-wrapper"},r.a.createElement(J,{human:n,lookupHuman:o,changeHuman:i})),r.a.createElement(x.a,{size:"large"},n.name,"'s Recent Activity",r.a.createElement(x.a.Subheader,null,c.length," events shown")),r.a.createElement(R.a,null,c.map(function(e){return r.a.createElement(q,{key:e.id,activity:e,humanId:n.id})})))))}}]),t}(r.a.Component)),Q=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.human,a=e.user,n=e.changeHuman,o=e.lookupHuman,i=e.createActivity,s=a===t;return r.a.createElement(D,{onChangeUser:this.props.changeUser,onVisitHome:this.props.onVisitHome,onVisitProfile:this.props.onVisitProfile,userName:a.name,userPhotoUrl:a.photoUrl||v.a.image.people(),heroPhotoUrl:t.photoUrl||v.a.image.people(),heroContent:r.a.createElement(H.a,{raised:!0,className:"UserOverlay"},r.a.createElement(A.a,null,r.a.createElement(x.a,null,t.photoUrl&&r.a.createElement(F,{photoUrl:t.photoUrl}),t.name,s&&r.a.createElement(x.a.Subheader,null,"this is you!"))),r.a.createElement(A.a,null,t.about),r.a.createElement(A.a,null,r.a.createElement("div",{style:{fontSize:"62.5%",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},r.a.createElement("div",{className:"totem"},r.a.createElement(x.a,{icon:!0,size:"tiny"},r.a.createElement(S.a,{name:"user",size:"tiny",color:"green"}),t.friends.length," Friends")),r.a.createElement("div",{className:"totem"},r.a.createElement(x.a,{icon:!0,size:"tiny"},r.a.createElement(S.a,{name:"group",size:"tiny",color:"violet"}),t.friends.length," Groups")),r.a.createElement("div",{className:"totem"},r.a.createElement(x.a,{icon:!0,size:"tiny"},r.a.createElement(S.a,{name:"heart",size:"tiny",color:"red"}),t.friends.length," Hearts")),r.a.createElement("div",{className:"totem"},r.a.createElement(x.a,{icon:!0,size:"tiny"},r.a.createElement(S.a,{name:"star",size:"tiny",color:"yellow"}),t.friends.length," Stars")),r.a.createElement("div",{className:"totem"},r.a.createElement(x.a,{icon:!0,size:"tiny"},r.a.createElement(S.a,{name:"plus",size:"tiny",color:"blue"}),t.friends.length," Votes")),r.a.createElement("div",{className:"totem"},r.a.createElement(x.a,{icon:!0,size:"tiny"},r.a.createElement(S.a,{name:"mail forward",size:"tiny",color:"olive"}),t.friends.length," Links")))))},r.a.createElement(K,{me:s,human:t,changeHuman:n,lookupHuman:o,createActivity:function(e,t){console.log("CREATE IT",{human:e,desc:t}),i(e,t)}}))}}]),t}(r.a.Component),X=a(1402),Z=(a(1389),a(1390),function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=C.all().filter(function(t){return e.props.user.friends.includes(t.id)}).flatMap(function(e){return e.activities});return t=t.sort(function(e,t){return e.createdAt>t.createdAt?-1:1}),r.a.createElement("div",{className:"Page"},r.a.createElement(T,{userName:"Nobody",userPhotoUrl:this.props.userPhotoUrl,onChangeUser:this.props.onChangeUser,onVisitHome:this.props.onVisitHome,onVisitProfile:this.props.onVisitProfile}),r.a.createElement("main",{className:"App-main"},r.a.createElement(W.a,{minWidth:992},r.a.createElement("div",{className:"Page-aside"},r.a.createElement(A.a,null,"Nothing here either!"))),r.a.createElement("div",{className:"Page-main"},r.a.createElement(H.a,{className:"Page-mainGroup"},t.map(function(e){return e.creatorId&&r.a.createElement(q,{activity:e,humanId:e.creatorId})})))))}}]),t}(r.a.Component)),$=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={constructed:!1,progress:0,user:void 0,human:void 0,page:"Profile"},a.updateHuman=function(){var e=Object(l.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({human:t});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.updateUser=function(){var e=Object(l.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({user:t});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.visitProfile=function(){var e=a.state.user;e&&(console.log("VISIT HOME",{user:e,name:e.name}),a.updateHuman(e),a.setState({page:"Profile"}))},a.visitHome=function(){a.setState({page:"Home"})},a.createActivity=function(e,t){var n=new j(e.id,"a thing happened",t,"favorite",["fun"]);e.activities.push(n),a.setState({human:e})},a.renderPage=function(){if(!a.state.user||!a.state.human)return r.a.createElement("p",null,"no user or human?");switch(a.state.page){case"Home":return a.state.user.photoUrl&&r.a.createElement(Z,{user:a.state.user,userPhotoUrl:a.state.user.photoUrl,onVisitHome:a.visitHome,onVisitProfile:a.visitProfile,onChangeUser:a.updateUser});case"Profile":return a.props.template?a.renderProfileTemplate():r.a.createElement(Q,{human:a.state.human,user:a.state.user,onVisitHome:a.visitHome,onVisitProfile:a.visitProfile,changeHuman:a.updateHuman,changeUser:a.updateUser,lookupHuman:C.lookup,createActivity:a.createActivity})}},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Mounted society..."),e.next=3,C.seed(function(e){t.setState({progress:e})});case 3:console.log("Done with seed!"),this.setState({user:C.lookup(1),constructed:!0,human:C.lookup(1)});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"renderProfileTemplate",value:function(){return r.a.createElement(D,{onChangeUser:this.updateUser,onVisitHome:function(){},onVisitProfile:function(){},userPhotoUrl:v.a.image.people(),heroPhotoUrl:v.a.image.people(),doTemplateContent:!0})}},{key:"render",value:function(){var e=this.state,t=e.constructed;e.human,e.user;return t?this.renderPage():r.a.createElement("div",{className:"Construction"},r.a.createElement(R.a,null,r.a.createElement(H.a,null,r.a.createElement(M,{photoUrl:"https://source.unsplash.com/random"}),r.a.createElement(A.a,null,r.a.createElement(x.a,null,"Constructing the World..."),"Please wait just a moment, building some interesting people (Please note: we'll only do this once!)"),r.a.createElement(A.a,null,r.a.createElement(X.a,{value:this.state.progress,total:100})))))}}]),t}(r.a.Component),Y=(a(1392),function(){return r.a.createElement("div",{className:"App"},r.a.createElement($,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},182:function(e,t,a){e.exports=a(1393)},187:function(e,t,a){}},[[182,1,2]]]);
//# sourceMappingURL=main.2cde1c17.chunk.js.map