(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1249:function(e,t,a){},1250:function(e,t,a){},1379:function(e,t,a){},1380:function(e,t,a){},1381:function(e,t,a){},1382:function(e,t,a){},1383:function(e,t,a){},1384:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(41),i=a.n(o),s=(a(184),a(14)),c=a.n(s),l=a(22),u=a(19),m=a(21),h=a(34),d=a(33),p=a(35),f=a(30),v=a.n(f),E=a(149),g=a.n(E);function y(e){return new Promise(function(t){return setTimeout(t,e)})}var b=function(){function e(){Object(u.a)(this,e),this.apiBase="https://source.unsplash.com"}return Object(m.a)(e,[{key:"findPhoto",value:function(){var t=Object(l.a)(c.a.mark(function t(){var a,n,r,o,i,s,l=arguments;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for("1080x720",a=l.length,n=new Array(a),r=0;r<a;r++)n[r]=l[r];return o="".concat(this.apiBase,"/random/").concat("1080x720","/?").concat(n.join("+")),t.next=5,g.a.get(o);case 5:return i=t.sent,s=i.request.responseURL,console.log("Found a good photo",{photoUrl:s}),console.warn(e.timeoutWarning),t.next=11,y(3e3);case 11:return t.abrupt("return",s);case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),e}();b.timeoutWarning="We are enforcing a 3s timeout after calls to findPhoto.";var w=new b;function k(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t[Math.floor(Math.random()*t.length)]}var U=function e(t,a,n){Object(u.a)(this,e),this.name=t,this.description=a,this.icon=n,this.id=void 0,this.id=e.count++,console.log("EVT",this.id,this.name,this.description)};U.count=0;var O=function(){function e(t,a,n){Object(u.a)(this,e),this.name=t,this.gender=a,this.about=n,this.photoUrl=void 0,this.quote=void 0,this.job=void 0,this.friends=[],this.id=void 0,this.activities=[],this.favoriteColor=void 0,this.id=e.count++;var r=["red","orange","green","yellow","olive","teal","violet","pink","blue"];this.favoriteColor=r[Math.floor(Math.random()*r.length)],this.activities=Array.from({length:10},this.genEvent),this.quote=v.a.hacker.phrase(),this.job=v.a.name.jobTitle()}return Object(m.a)(e,[{key:"genEvent",value:function(){var e="something happened",t="it was okay",a=k("food","favorite","music");return"food"===a?(e="i ate "+k("breakfast","lunch","dinner","a snack"),t="it was really good actually"):"music"===a?(e=k("played some tunes","jammed out"),t=k("i should learn to play","alright it sounded pretty good")):(console.log("---\x3e event",{icon:a}),e="something great happened",t="i can't actually describe it all too well, but you know"),new U(e,t,a)}},{key:"findGoodPicture",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=["face","person"],Math.random()<.2?"male"===this.gender?t.push("man"):t.push("woman"):t.push(this.gender),e.next=4,w.findPhoto.apply(w,t);case 4:this.photoUrl=e.sent;case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"addFriend",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.friends.push(e.id),t&&e.addFriend(this,!1)}}]),e}();function j(e,t){return N.apply(this,arguments)}function N(){return(N=Object(l.a)(c.a.mark(function e(t,a){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<t.length)){e.next=7;break}return e.next=4,a(t[n],n,t);case 4:n++,e.next=1;break;case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}O.count=0;var x=function(){function e(){Object(u.a)(this,e),this.humans={}}return Object(m.a)(e,[{key:"find",value:function(e){return this.humans[e]}},{key:"put",value:function(e,t){this.humans[e]=t}},{key:"freeze",value:function(){console.log("FREEZE"),localStorage.setItem("humans",JSON.stringify(this.humans))}},{key:"thaw",value:function(){console.log("THAW");var e=localStorage.getItem("humans");return!!e&&(this.humans=JSON.parse(e),console.log("THAWED ---\x3e ",{humans:this.humans}),!0)}}]),e}(),H=new(function(){function e(){var t=this;Object(u.a)(this,e),this.db=new x,this.all=function(){return Object.values(t.db.humans)},this.lookup=function(e){return t.db.find(e)},console.log("Created new humans service!")}return Object(m.a)(e,[{key:"seed",value:function(){var e=Object(l.a)(c.a.mark(function e(t){var a,n,r,o,i,s,u,m,h,d,p,f,v,E=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db.thaw()){e.next=3;break}return console.warn("THAWED, skipping seed"),e.abrupt("return");case 3:return console.log("SEEDING"),a={dale:new O("Dale Lingis","male","making it work"),tom:new O("Tom Jones","male","something is gonna happen"),albert:new O("Albert Transfer","male","it's all going to work out"),abel:new O("Abel Don","male","everything is cool"),kara:new O("Kara Teristic","female","the world is okay"),essence:new O("Essence Beauty","female","i like talking to people"),velocity:new O("Velocity Ideas","female","shopping is fun"),time:new O("Time Shine","female","having a good time"),life:new O("Life Cosmos","female","i enjoy chilling out with my friends"),sweet:new O("Sweet Good Omens","female","it's all a game really"),x:new O("Mr. X","male","i'll keep my personal details to myself, thanks")},r=a.albert,o=a.dale,i=a.abel,s=a.kara,u=a.essence,m=a.velocity,h=a.time,d=a.life,p=a.sweet,f=a.x,(n=a.tom).addFriend(r),n.addFriend(o),n.addFriend(p),p.addFriend(f),o.addFriend(i),i.addFriend(s),s.addFriend(r),s.addFriend(u),s.addFriend(m),s.addFriend(h),h.addFriend(d),h.addFriend(m),h.addFriend(u),h.addFriend(i),v=0,e.next=23,j(Object.values(a),function(){var e=Object(l.a)(c.a.mark(function e(n){var r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return E.db.put(n.id,n),e.next=3,n.findGoodPicture();case 3:v++,r=Math.floor(v/Object.entries(a).length*100),console.log("PROGRESS",r),t(r);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 23:this.db.freeze();case 24:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}()),C=a(167),A=a(1393),P=a(1392),F=a(101),S=(a(1249),a(1389)),z=a(1390),T=(a(1250),function(e){var t=e.photoUrl;return r.a.createElement("div",{className:"User-Bubble",style:{background:"center / 150% url(".concat(t,")")}})}),D=function(e){return r.a.createElement(S.a,{button:!0,size:"small",className:"icon",floating:!0,labeled:!0,icon:"user circle",text:e.userName,onChange:function(){var t=Object(l.a)(c.a.mark(function t(a,n){var r,o;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.value,o=r,t.next=4,e.onChangeUser(H.lookup(o));case 4:e.onVisitHome();case 5:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}(),search:!0,header:"Let the Masquerade begin!",style:{width:"258px"},options:H.all().map(function(e){return{key:e.id,text:e.name,value:e.id,image:{avatar:!0,src:e.photoUrl}}})})},M=function(e){var t=e.userName,a=e.userPhotoUrl,n=e.onVisitHome,o=e.onChangeUser;return r.a.createElement(z.a,{className:"App-header"},r.a.createElement(z.a.Item,{name:"society",className:"App-name"}),r.a.createElement(z.a.Item,null,r.a.createElement(D,{userName:t,onVisitHome:n,onChangeUser:o})),r.a.createElement(z.a.Item,{position:"right"},r.a.createElement("div",{className:"App-user",onClick:function(e){return n()},style:{cursor:"pointer"}},r.a.createElement(T,{photoUrl:a}),t)))},V=a(1394),W=(a(1379),function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.photoUrl;return r.a.createElement(A.a,{className:"Profile-header",style:{background:"center / 100% url(".concat(e,") fixed"),backgroundSize:"cover"}},this.props.children)}}]),t}(r.a.Component)),I=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.aside,t=this.props.heroContent||this.props.doTemplateContent&&r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,{style:{backgroundColor:"rgba(255,255,255,0.8)"}},r.a.createElement(P.a,{icon:!0},r.a.createElement(F.a,{name:"user",color:"grey"}),"Odysseus",r.a.createElement(P.a.Subheader,null,"this could be you!")))),a=this.props.userName||"Odysseus";return r.a.createElement("div",{className:"Page"},r.a.createElement(M,{userName:a,userPhotoUrl:this.props.userPhotoUrl,onChangeUser:this.props.onChangeUser,onVisitHome:this.props.onVisitHome}),r.a.createElement("main",{className:"App-main"},r.a.createElement(V.a,{minWidth:992},r.a.createElement("div",{className:"Page-aside"},e)),r.a.createElement("div",{className:"Page-main"},r.a.createElement(C.a,{className:"Page-mainGroup"},r.a.createElement(W,{photoUrl:this.props.heroPhotoUrl},t),this.props.children||r.a.createElement(A.a,null,"Nothing here!")))))}}]),t}(r.a.Component),G=a(1388),R=(a(1380),function(e){var t=e.activity,a=e.human;return r.a.createElement(C.a,{key:t.id,className:"Activity"},r.a.createElement(A.a,{color:a.favoriteColor,className:"Activity-header"},r.a.createElement(G.a,{className:"Activity-author"},a.photoUrl&&r.a.createElement(T,{photoUrl:a.photoUrl}),r.a.createElement("b",null,a.name)," did something!"),r.a.createElement("div",{className:"Activity-actions"},r.a.createElement("span",{className:"Activity-action"},r.a.createElement("span",null,"0"),r.a.createElement(F.a,{name:"heart",color:"red"})),r.a.createElement("span",{className:"Activity-action"},r.a.createElement("span",null,"1"),r.a.createElement(F.a,{name:"favorite",color:"yellow"})))),r.a.createElement(A.a,{style:{backgroundColor:"#eaeaea"}},r.a.createElement(G.a,{fluid:!0,style:{width:"30%"}},r.a.createElement(A.a,null,r.a.createElement("div",{className:"Activity-body"},r.a.createElement(P.a,{icon:!0},r.a.createElement(F.a,{name:t.icon}),t.name),r.a.createElement(G.a,null,t.description))))))}),B=function(e){var t=e.human,a=e.lookupHuman,n=e.changeHuman;return r.a.createElement(A.a,{className:"User-Tile",color:t.favoriteColor},t.photoUrl&&r.a.createElement(T,{photoUrl:t.photoUrl}),r.a.createElement(P.a,{size:"large"},t.name,r.a.createElement(P.a.Subheader,null,t.about)),r.a.createElement(P.a,null,"Quote"),r.a.createElement("i",null,'"',t.quote,'"'),r.a.createElement(A.a,{className:"Friends"},r.a.createElement(P.a,{size:"tiny",icon:!0},r.a.createElement(F.a,{name:"group"}),"Friends of ",t.name),r.a.createElement(C.a,null,t.friends.map(function(e){var t=a(e);return r.a.createElement(A.a,{className:"Friends--list-item",compact:!0,color:t.favoriteColor,key:t.id,onClick:function(){return n(t)}},r.a.createElement(T,{photoUrl:t.photoUrl}),t.name)}))))},q=(a(1381),function(e){var t=e.human,a=e.lookupHuman,n=e.changeHuman;return r.a.createElement("div",{className:"Profile-main"},r.a.createElement("div",{className:"Profile-body"},r.a.createElement(V.a,{minWidth:992},r.a.createElement(B,{human:t,lookupHuman:a,changeHuman:n})),r.a.createElement(A.a,{className:"Feed"},r.a.createElement(V.a,{maxWidth:991},r.a.createElement(B,{human:t,lookupHuman:a,changeHuman:n})),r.a.createElement(P.a,null,t.name,"'s Recent Activity"),r.a.createElement(G.a,null,t.activities.map(function(e){return r.a.createElement(R,{activity:e,human:t})})))))}),J=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.human,a=e.user,n=e.changeHuman,o=e.lookupHuman,i=a===t;return r.a.createElement(I,{onChangeUser:this.props.changeUser,onVisitHome:this.props.onVisitHome,userName:a.name,userPhotoUrl:a.photoUrl||v.a.image.people(),heroPhotoUrl:t.photoUrl||v.a.image.people(),heroContent:r.a.createElement(C.a,{raised:!0,className:"UserOverlay"},r.a.createElement(A.a,null,r.a.createElement(P.a,null,t.photoUrl&&r.a.createElement(T,{photoUrl:t.photoUrl}),t.name,i&&r.a.createElement(P.a.Subheader,null,"this is you!"))),r.a.createElement(A.a,null,t.about),r.a.createElement(A.a,null,r.a.createElement("div",{style:{fontSize:"62.5%",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},r.a.createElement("div",{className:"totem"},r.a.createElement(P.a,{icon:!0,size:"tiny"},r.a.createElement(F.a,{name:"user",size:"tiny",color:"green"}),t.friends.length," Friends")),r.a.createElement("div",{className:"totem"},r.a.createElement(P.a,{icon:!0,size:"tiny"},r.a.createElement(F.a,{name:"group",size:"tiny",color:"violet"}),t.friends.length," Groups")),r.a.createElement("div",{className:"totem"},r.a.createElement(P.a,{icon:!0,size:"tiny"},r.a.createElement(F.a,{name:"heart",size:"tiny",color:"red"}),t.friends.length," Hearts")),r.a.createElement("div",{className:"totem"},r.a.createElement(P.a,{icon:!0,size:"tiny"},r.a.createElement(F.a,{name:"star",size:"tiny",color:"yellow"}),t.friends.length," Stars")),r.a.createElement("div",{className:"totem"},r.a.createElement(P.a,{icon:!0,size:"tiny"},r.a.createElement(F.a,{name:"plus",size:"tiny",color:"blue"}),t.friends.length," Votes")),r.a.createElement("div",{className:"totem"},r.a.createElement(P.a,{icon:!0,size:"tiny"},r.a.createElement(F.a,{name:"mail forward",size:"tiny",color:"olive"}),t.friends.length," Links")))))},r.a.createElement(q,{human:t,changeHuman:n,lookupHuman:o}))}}]),t}(r.a.Component),L=(a(1382),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={constructed:!1,progress:0,user:void 0,human:void 0},a.updateHuman=function(){var e=Object(l.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("UPDATE HUMAN",{human:t,name:t.name}),e.next=3,a.setState({human:t});case 3:console.log("DONE UPDATE HUMAN");case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.updateUser=function(){var e=Object(l.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("UPDATE USER",{user:t,name:t.name}),e.next=3,a.setState({user:t});case 3:console.log("DONE UPDATE USER");case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.visitHome=function(){var e=a.state.user;e&&(console.log("VISIT HOME",{user:e,name:e.name}),a.updateHuman(e))},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Mounted society..."),e.next=3,H.seed(function(e){t.setState({progress:e})});case 3:console.log("Done with seed!"),this.setState({user:H.lookup(1),constructed:!0,human:H.lookup(1)});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.constructed,a=e.human,n=e.user;return t&&void 0!==a&&void 0!==n?this.props.template?r.a.createElement(I,{onChangeUser:this.updateUser,onVisitHome:function(){},userPhotoUrl:v.a.image.people(),heroPhotoUrl:v.a.image.people(),doTemplateContent:!0}):r.a.createElement(J,{human:a,user:n,onVisitHome:this.visitHome,changeHuman:this.updateHuman,changeUser:this.updateUser,lookupHuman:H.lookup}):r.a.createElement("div",{className:"Construction"},r.a.createElement(G.a,null,r.a.createElement(A.a,null,r.a.createElement(P.a,null,"Constructing the World..."),"Please wait just a moment, building some interesting people (",this.state.progress,"%)... (Please note: we'll only do this once!)")))}}]),t}(r.a.Component)),K=(a(1383),function(){return r.a.createElement("div",{className:"App"},r.a.createElement(L,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},179:function(e,t,a){e.exports=a(1384)},184:function(e,t,a){}},[[179,1,2]]]);
//# sourceMappingURL=main.982fcd37.chunk.js.map